from curve import Curve

# Curve 내부에서 수수료는 0으로 설정해둔 상황
# target price를 서로 1:1 비율로 맞추 2 코인을 스왑 해본 상황이다.

# [token_a, token_b]
data = [
    [ 50_000000000000000000, 150_000000000000000000 ],
    [ 52_000000000000000000, 148_296775900000000000 ],
    [ 54_000000000000000000, 146_266084200000000000 ],
    [ 56_000000000000000000, 144_238032900000000000 ],
    [ 58_000000000000000000, 142_212368500000000000 ],
    [ 60_000000000000000000, 140_188872300000000000 ],
    [ 62_000000000000000000, 138_167354800000000000 ],
    [ 64_000000000000000000, 136_147651100000000000 ],
    [ 66_000000000000000000, 134_129617400000000000 ],
    [ 68_000000000000000000, 132_113128000000000000 ],
    [ 70_000000000000000000, 130_098072700000000000 ],
    [ 72_000000000000000000, 128_084354800000000000 ],
    [ 74_000000000000000000, 126_071889500000000000 ],
    [ 76_000000000000000000, 124_060602200000000000 ],
    [ 78_000000000000000000, 122_050427500000000000 ],
    [ 80_000000000000000000, 120_041308200000000000 ],
    [ 82_000000000000000000, 118_033194300000000000 ],
    [ 84_000000000000000000, 116_026042200000000000 ],
    [ 86_000000000000000000, 114_019814600000000000 ],
    [ 88_000000000000000000, 112_014479200000000000 ],
    [ 90_000000000000000000, 110_010009100000000000 ],
    [ 92_000000000000000000, 108_006381800000000000 ],
    [ 94_000000000000000000, 106_003579100000000000 ],
    [ 96_000000000000000000, 104_001587300000000000 ],
    [ 98_000000000000000000, 102_000396300000000000 ],
    [ 100_000000000000000000, 100_000000000000000000 ],
    [ 102_000000000000000000, 98_000396100000000000 ],
    [ 104_000000000000000000, 96_001586000000000000 ],
    [ 106_000000000000000000, 94_003574800000000000 ],
    [ 108_000000000000000000, 92_006371500000000000 ],
    [ 110_000000000000000000, 90_009988900000000000 ],
    [ 112_000000000000000000, 88_014443800000000000 ],
    [ 114_000000000000000000, 86_019757500000000000 ],
    [ 116_000000000000000000, 84_025955500000000000 ],
    [ 118_000000000000000000, 82_033068300000000000 ],
    [ 120_000000000000000000, 80_041131300000000000 ],
    [ 122_000000000000000000, 78_050186000000000000 ],
    [ 124_000000000000000000, 76_060279500000000000 ],
    [ 126_000000000000000000, 74_071466200000000000 ],
    [ 128_000000000000000000, 72_083807800000000000 ],
    [ 130_000000000000000000, 70_097374500000000000 ],
    [ 132_000000000000000000, 68_112246000000000000 ],
    [ 134_000000000000000000, 66_128512600000000000 ],
    [ 136_000000000000000000, 64_146277100000000000 ],
    [ 138_000000000000000000, 62_165655900000000000 ],
    [ 140_000000000000000000, 60_186781700000000000 ],
    [ 142_000000000000000000, 58_209805300000000000 ],
    [ 144_000000000000000000, 56_234899400000000000 ],
    [ 146_000000000000000000, 54_262261200000000000 ],
    [ 148_000000000000000000, 52_292117600000000000 ],
    [ 150_000000000000000000, 50_324729700000000000 ],
]

amp = 50
n_coins = 2
precision = 10 ** 18
for el in data:
    # 토큰 precision을 맞추기 위한 보정
    balances = [el[0], el[1]]
    target_prices = [1 * precision, 1 * precision];
    curve_model = Curve(amp, balances, n_coins, target_prices)

    swap_amount = 2 * precision
    ret = curve_model.exchange(0, 1, swap_amount)
    print("after_token_a:", el[0] + swap_amount, ",", "after_token_b", el[1] - ret)